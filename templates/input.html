{% extends 'base.html' %}

{% block body %}

<div class="container-fluid" id="input_page" class="input-page"></div>

<div class="container-fluid" id="input-header">
<!-- <h1>{{user.first_name}}'s Audition Input Page</h1> -->
</div>

  <div class="callback">
    <button type=button id="no" value="no">New Audition</option>
    <button type=button id="yes" value="yes">Callback</option>
  </div>

  <div class="project-titles" style="display:none">
    <select name="project-selector" id="project-selector" class="project-selector">
      <option value=None>Select a Project</option>
    {% for project in projects %}
      <option value={{ project["project_id"] }}>{{project['project_title']}}</option>
    {% endfor %}
    </select>
  </div>

  <div class="auditions">
    {% for n in range(n) %}
    <button type="button" name="audition" id="audition" value={{ auditions[n]['audition_id'] }} projectid={{
      auditions[n]['project_id'] }} style="display:none">{{ n + 1 }}</button>
    {% endfor %}
  </div>

  
  <div class="audition-div" style="display:none">
    <form class="audition-form" class="form-horizontal" id="audition-form" enctype="multipart/form-data">
      <select id="industry" required>
        <option value="none" selected disabled hidden>Industry</option>
        <option value="Theatre">Theatre</option>
        <option value="Television">Television</option>
        <option value="Film">Film</option>
        <option value="Commercial">Commercial</option>
        <option value="Voiceover">Voiceover</option>
        <option value="Instrumental">Instrumental</option>
        <option value="Vocal">Vocal</option>
        <option value="Dance">Dance</option>
        <option value="Modeling">Modeling</option>
        <option value="Other">Other</option>
      </select>

    <div class="form-group row">
        <!-- <div class="input-name col p-0">Project Title:</div> -->
        <div class="col-8 mr-4"><input type="text" id="project_title" class="form-control col" name="project_title" placeholder="Project Title" required></div>
    </div>

    <div class="form-group row">
        <!-- <div class="input-name col p-0">Company:</div> -->
        <div class="col-8 mr-4"><input type="text" class="form-control" id="company" name="company" placeholder="Company"></div>
    </div>
    
    <div class="form-group row">
        <!-- <div class="input-name col p-0">Role:</div> -->
        <div class="col-8 mr-4"><input type="text" class="form-control" id="role" name="role" placeholder="Role"></div>
    </div>

    <div class="form-group row">
        <!-- <div class="input-name col p-0">Casting Office:</div> -->
        <div class="col-8 mr-4"><input type="text" class="form-control" id="casting_office" name="casting_office" placeholder="Casting Office"></div>
    </div>

    <div class="form-group row">
        <!-- <div class="input-name col p-0">Agency:</div> -->
        <div class="col-8 mr-4"><input type="text" class="form-control" id="agency" name="agency" placeholder="Agency"></div>
    </div>

    <div class="form-group row">
      <div class="col-8 mr-4"><input class="form-control" type="text" id="autocomplete"  name="location" placeholder="Location" onFocus="geolocate()"></div>
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcP6fsj7ftfBIOCURqi2KOSc9kKM51Crs&libraries=places&callback=initAutocomplete" async defer></script>
    </div>

    <div class="form-group row">
        <!-- <div class="input-name col p-0">Date:</div> -->
        <div class="col-8 mr-4"><input type="date" id="date" class="form-control" name="Audition Date" required></div>
    </div>

    <div class="form-group row">
        <!-- <div class="input-name col p-0">Time:</div> -->
        <div class="col-8 mr-4"><input type="time" class="form-control" id="time" name="Appointment Time" min="00:00" max="24:00" required></div>
    </div>

    <div class="form-group row">
        <!-- <div class="input-name col p-0">Notes:</div> -->
        <div class="col-8 mr-4"><input type="text" class="form-control" id="notes" name="notes" placeholder="Notes"></div>
    </div>

    <div id="media-uploader">
        <ul style="list-style-type:none;" id="list"></ul>
    </div>

    <input type="submit" value="SUBMIT" name="submit">
</form>

</div>
</div>
</div>
<div>

<div>
<button id="list-adder">Add Media</button>
</div>
<div>


<script>
  const listAddButton = $('#list-adder')
  let click_counter = 0
    const addItem = () => {
        click_counter++
        $('#list').append(`<li>
        <input type="text" id="media-title-${click_counter}" name="media-title" placeholder="Media Title"/>
        <div id="media-uploader">
        <input type="file" id="media-files-${click_counter}" name="filesToUpload[]" multiple>
        </div>`)
    }
  listAddButton.on('click', addItem)
</script>

{% endblock %}